syntax = "proto3";
package google.internal.cloud.code.v1internal;

import "exa/google/internal/cloud/code/v1internal/credits.proto";

message OnboardUserRequest {
  string tier_id = 1;
  string cloudaicompanion_project = 2;
  google.internal.cloud.code.v1internal.ClientMetadata metadata = 3;
}

message OnboardUserResponse {
  google.internal.cloud.code.v1internal.Project cloudaicompanion_project = 1;
  google.internal.cloud.code.v1internal.OnboardUserStatus status = 4;
  google.internal.cloud.code.v1internal.ReleaseChannel release_channel = 5;
}

message ReleaseChannel {
  enum ChannelType {
    UNKNOWN = 0;
    STABLE = 1;
    EXPERIMENTAL = 2;
  }

  google.internal.cloud.code.v1internal.ReleaseChannel.ChannelType type = 1;
  string name = 2;
  string description = 3;
}

message LoadCodeAssistRequest {
  enum Mode {
    MODE_UNSPECIFIED = 0;
    FULL_ELIGIBILITY_CHECK = 1;
    HEALTH_CHECK = 2;
  }

  string cloudaicompanion_project = 1;
  google.internal.cloud.code.v1internal.ClientMetadata metadata = 2;
  google.internal.cloud.code.v1internal.LoadCodeAssistRequest.Mode mode = 3;
}

message IneligibleTier {
  enum IneligibleTierReasonCodes {
    UNKNOWN = 0;
    INELIGIBLE_ACCOUNT = 1;
    UNKNOWN_LOCATION = 2;
    UNSUPPORTED_LOCATION = 3;
    RESTRICTED_NETWORK = 4;
    RESTRICTED_AGE = 5;
    NON_USER_ACCOUNT = 6;
    DASHER_USER = 7;
    BYOID_USER = 8;
    RESTRICTED_DASHER_USER = 9;
    VALIDATION_REQUIRED = 10;
    GOOGLE_TOS_NOT_SUPPORTED_BY_CLIENT = 11;
  }

  google.internal.cloud.code.v1internal.IneligibleTier.IneligibleTierReasonCodes reason_code = 1;
  string reason_message = 2;
  string tier_id = 3;
  string tier_name = 4;
  string validation_error_message = 5;
  string validation_url_link_text = 6;
  string validation_url = 7;
  string validation_learn_more_link_text = 8;
  string validation_learn_more_url = 9;
}

message ClientMetadata {
  enum IdeType {
    IDE_UNSPECIFIED = 0;
    VSCODE = 1;
    INTELLIJ = 2;
    VSCODE_CLOUD_WORKSTATION = 3;
    INTELLIJ_CLOUD_WORKSTATION = 4;
    CLOUD_SHELL = 5;
    CIDER = 6;
    CLOUD_RUN = 7;
    ANDROID_STUDIO = 8;
    ANTIGRAVITY = 9;
    JETSKI = 10;
    COLAB = 11;
    FIREBASE = 12;
    CHROME_DEVTOOLS = 13;
    GEMINI_CLI = 14;
  }

  enum Platform {
    PLATFORM_UNSPECIFIED = 0;
    DARWIN_AMD64 = 1;
    DARWIN_ARM64 = 2;
    LINUX_AMD64 = 3;
    LINUX_ARM64 = 4;
    WINDOWS_AMD64 = 5;
  }

  enum PluginType {
    PLUGIN_UNSPECIFIED = 0;
    CLOUD_CODE = 1;
    GEMINI = 2;
    AIPLUGIN_INTELLIJ = 3;
    AIPLUGIN_STUDIO = 4;
    PANTHEON = 6;
  }

  google.internal.cloud.code.v1internal.ClientMetadata.IdeType ide_type = 1;
  string ide_version = 2;
  string plugin_version = 3;
  google.internal.cloud.code.v1internal.ClientMetadata.Platform platform = 4;
  string update_channel = 5;
  string duet_project = 6;
  google.internal.cloud.code.v1internal.ClientMetadata.PluginType plugin_type = 7;
  string ide_name = 8;
}

message Project {
  string id = 1;
  string name = 2;
  int64 project_number = 3;
}

message OnboardUserStatus {
  enum StatusCode {
    DEFAULT = 0;
    NOTICE = 1;
    WARNING = 2;
  }

  google.internal.cloud.code.v1internal.OnboardUserStatus.StatusCode status_code = 1;
  string display_message = 2;
  string message_title = 4;
}

message LoadCodeAssistResponse {
  google.internal.cloud.code.v1internal.UserTier current_tier = 1;
  repeated google.internal.cloud.code.v1internal.UserTier allowed_tiers = 2;
  string cloudaicompanion_project = 3;
  bytes project_validation_error = 4;
  repeated google.internal.cloud.code.v1internal.IneligibleTier ineligible_tiers = 5;
  bool gcp_managed = 6;
  string manage_subscription_uri = 7;
  google.internal.cloud.code.v1internal.ReleaseChannel release_channel = 8;
  string upgrade_subscription_uri = 9;
  string g1_tier = 11;
  google.internal.cloud.code.v1internal.UserTier paid_tier = 12;
}

message UserTier {
  enum UpgradeType {
    UPGRADE_TYPE_UNSPECIFIED = 0;
    GDP = 1;
    GOOGLE_ONE = 2;
    GDP_HELIUM = 3;
    GOOGLE_ONE_HELIUM = 4;
  }

  message PrivacyNotice {
    bool show_notice = 1;
    string notice_text = 2;
    bool minor_notice = 4;
  }

  string id = 1;
  string name = 2;
  string description = 3;
  bool user_defined_cloudaicompanion_project = 4;
  google.internal.cloud.code.v1internal.UserTier.PrivacyNotice privacy_notice = 5;
  bool is_default = 6;
  string upgrade_subscription_uri = 7;
  string upgrade_subscription_text = 8;
  string upgrade_button_text = 11;
  string client_experience_tag = 12;
  google.internal.cloud.code.v1internal.UserTier.UpgradeType upgrade_subscription_type = 9;
  bool uses_gcp_tos = 13;
  repeated google.internal.cloud.code.v1internal.Credits available_credits = 14;
}

message AiDevToolsSetting {
  bool strict_mode_disabled = 1;
  google.internal.cloud.code.v1internal.McpSetting mcp_setting = 2;
  google.internal.cloud.code.v1internal.TurboModeSetting turbo_mode_setting = 3;
  google.internal.cloud.code.v1internal.BrowserSetting browser_setting = 4;
  google.internal.cloud.code.v1internal.PreviewFeatureSetting preview_feature_setting = 5;
  google.internal.cloud.code.v1internal.AgentSetting agent_setting = 6;
  google.internal.cloud.code.v1internal.CliFeatureSetting cli_feature_setting = 7;
}

message RecitationPolicy {
  bool disable_citations = 1;
}

message McpSetting {
  bool mcp_enabled = 1;
  string override_mcp_config_json = 2;
  string mcp_config_json = 3;
}

message TurboModeSetting {
  bool terminal_auto_execution_enabled = 1;
  bool browser_js_execution_enabled = 2;
}

message BrowserSetting {
  bool browser_enabled = 1;
  repeated string allowed_websites = 2;
  repeated string denied_websites = 3;
}

message PreviewFeatureSetting {
  bool preview_models_enabled = 1;
}

message AgentSetting {
  repeated string agy_allowed_models = 1;
}

message CliFeatureSetting {
  message ExtensionsSetting {
    bool extensions_enabled = 1;
  }

  google.internal.cloud.code.v1internal.CliFeatureSetting.ExtensionsSetting extensions_setting = 1;
  bool unmanaged_capabilities_enabled = 2;
}

message FetchAdminControlsRequest {
  string project = 1;
}

message FetchAdminControlsResponse {
  enum GroundingType {
    GROUNDING_TYPE_UNSPECIFIED = 0;
    GROUNDING_WITH_GOOGLE_SEARCH = 1;
    WEB_GROUNDING_FOR_ENTERPRISE = 2;
  }

  bool disable_telemetry = 1;
  bool disable_feedback = 2;
  google.internal.cloud.code.v1internal.RecitationPolicy recitation_policy = 3;
  google.internal.cloud.code.v1internal.FetchAdminControlsResponse.GroundingType grounding_type = 4;
  bool secure_mode_enabled = 5;
  google.internal.cloud.code.v1internal.McpSetting mcp_setting = 6;
  google.internal.cloud.code.v1internal.TurboModeSetting turbo_mode_setting = 7;
  google.internal.cloud.code.v1internal.BrowserSetting browser_setting = 8;
  google.internal.cloud.code.v1internal.PreviewFeatureSetting preview_feature_setting = 9;
  google.internal.cloud.code.v1internal.AgentSetting agent_setting = 10;
  google.internal.cloud.code.v1internal.CliFeatureSetting cli_feature_setting = 11;
  bool strict_mode_disabled = 12;
  bool admin_controls_applicable = 13;
}
